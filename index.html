<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<title>Sujet</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Sujet — Événement et date">
	<meta name="author" content="Gaël Poupard">
	<link rel="shortcut icon" href="img/favicon.svg" type="image/svg+xml">
	<link rel="stylesheet" href="css/sliide.min.css" type="text/css" media="screen">
	<link rel="stylesheet" href="css/prism.min.css" type="text/css" media="screen">
</head>
<body>
<main role="main">
	<section id="slide-1" class="d-flex flex-column justify-between">
		<h1>Sujet</h1>
		<footer>
			<div class="d-flex">
				<p class="mb-0">Raconté par <a href="https://www.ffoodd.fr">Gaël Poupard</a></p>
				<ul role="list">
					<li><a href="https://www.ffoodd.fr">
						<img src="img/ffoodd.svg" alt="Blog de Gaël Poupard" height="32" width="32">
					</a></li>
					<li><a href="https://mamot.fr/@ffoodd">
						<img src="img/mastodon.svg" alt="@ffoodd sur Mastodon" height="32" width="32">
					</a></li>
					<li><a href="https://github.com/ffoodd/">
						<img src="img/github.svg" alt="@ffoodd sur Github" height="32" width="32">
					</a></li>
					<li><a href="https://www.linkedin.com/in/ga%C3%ABl-poupard-40117b30/">
						<img src="img/linkedin.svg" alt="Gaël Poupard sur LinkedIn" height="32" width="32">
					</a></li>
				</ul>
			</div>
			<p>
				<a href="https://www.groupeonepoint.com">
					<img src="img/onepoint.svg" width="166" height="80" alt="onepoint">
				</a>
			</p>
		</footer>
	</section>

	<section id="slide-2" data-note="Lorem ipsum">
		<h2>Titre</h2>
		<dl>
			<dt>Métadonnée</dt>
			<dd>Valeur</dd>
			<dt>Métadonnée</dt>
			<dd>Valeur</dd>
		</dl>
		<p class="lead">Préambule</p>
		<p>Paragraphe</p>
	</section>

	<section id="slide-3" class="demo" data-note="Poulet tikka massala !">
		<h3 class="h2">Slide avec code</h3>
		<div class="markup">
			<pre class="language-markup"><code class="language-markup">&lt;label for="language"&gt;
	Quel est le meilleur langage de programmation&nbsp;?
&lt;/label&gt;
&lt;input id="language" type="text" list="languages"&gt;
&lt;datalist id="languages"&gt;
	&lt;option&gt;HTML&lt;/option&gt;
	&lt;option&gt;CSS&lt;/option&gt;
	&lt;option&gt;SVG&lt;/option&gt;
&lt;/datalist&gt;
				</code>
			</pre>
		</div>
		<div class="playground">
			<form>
				<p>
					<label for="language">Quel est le meilleur langage de programmation&nbsp;?</label>
					<input id="language" type="text" list="languages">
					<datalist id="languages">
						<option>HTML</option>
						<option>CSS</option>
						<option>SVG</option>
					</datalist>
				</p>
				<button type="submit">Valider</button>
			</form>
		</div>
	</section>

	<section id="slide-4" class="demo">
		<h3 class="h2">Slide avec <i lang="en">live coding</i> CSS</h3>
		<div class="style">
<!-- [html-validate-disable-block element-permitted-content] -->
<style contenteditable class="highlight--none">.modern-container {
	display: grid;
	height: 100%;
	place-content: center;
}

.box {
	aspect-ratio: 1;
	/* Changez la couleur, pour voir ! */
	background-color: rebeccapurple;
	color: white;
	padding: 1rem;
}</style>
		</div>
		<div class="playground d-flex">
			<div class="modern-container m-auto">
				<div class="box">container</div>
			</div>
		</div>
	</section>

	<section id="slide-5">
		<h2>Merci</h2>
		<h3>Et à bientôt <span aria-hidden="true">&nbsp;&#128522;</span></h3>
		<h4>Crédits</h4>
		<ul>
			<li>Pictogrammes&nbsp;: <a hreflang="en" href="https://thenounproject.com/marekpolakovic/collection/rounded-ui">Rounded UI</a> —&nbsp;par <a hreflang="en" href="https://www.marekpolakovic.sk/">Marek Polakovic</a>&nbsp;;</li>
			<li>Emojis&nbsp;: <a hreflang="en" href="https://github.com/twitter/twemoji">Twemoji</a> —&nbsp;par Twitter&nbsp;;</li>
			<li>Typographie de titraille&nbsp;: <a hreflang="en" href="https://typekit.com/fonts/bello-pro">Bello Pro</a> —&nbsp;créée par <a hreflang="en" href="https://www.underware.nl/">Underware</a>&nbsp;;</li>
			<li>Typographie de labeur&nbsp;: <a hreflang="en" href="https://typekit.com/fonts/museo-slab">Museo Slab</a> —&nbsp;créée par <a hreflang="en" href="https://www.exljbris.com/">Exljbris</a>&nbsp;;</li>
			<li>Moteur de présentation inspiré de <a hreflang="en" href="https://css-tricks.com/css-scroll-snap-slide-deck/">"<cite lang="en">CSS scroll-snap slide deck that supports live coding</cite>" de Stephanie Eckles sur Smashing Magazine</a>.</li>
		</ul>
	</section>
</main>

<script src="js/prism.min.js"></script>
<script src="js/twemoji.min.js"></script>
<script>
	twemoji.parse(document.body, {folder: 'svg', ext: '.svg'});

	let view;
	switchSlide = (id) => {
		// Historique
		history.pushState({}, "", `#slide-${id}`);
		// Vue présentateur
		//// Aperçu du slide suivant
		document.body.style.setProperty('--next', String(`-moz-element(#slide-${Number(id) + 1})`));
		//// Synchro de la vue présentateur
		if (view) {
			view.postMessage(`slide-${id}`, 'https://localhost:8080/index.html');
		}
		//// Notes dans la vue présentateur
		if('note' in document.getElementById(`slide-${id}`).dataset) {
			document.body.dataset.note = document.getElementById(`slide-${id}`).dataset.note;
		} else {
			delete document.body.dataset.note;
		}
	}

	document.addEventListener('DOMContentLoaded', () => {
		const slides = document.querySelectorAll('section[id^="slide-"]');

		// Nombre total de slides, pour la pagination
		document.body.style.setProperty('--slides', String(slides.length));
		document.body.style.setProperty('--next', String(`-moz-element(#slide-2)`));

		// Gestion de l’historique
		let io = new IntersectionObserver(entries => {
			if (entries[0].isIntersecting === true) {
				switchSlide(entries[0].target.id.split('-')[1]);
			}
		}, {
			root: document.querySelector('main'),
			threshold: [1]
		});
		slides.forEach(slide =>	io.observe(slide));

		document.addEventListener('keydown', event => {
			const index = Number(window.location.hash.split('-')[1]);
			let id = null;
			switch (event.key) {
				// Activer la vue présentateur
				case 's':
					if (event.altKey) {
						view = window.open('https://localhost:8080/index.html', 'speakerView');
						view.addEventListener('load', () => {
							view.document.body.classList.add('speaker');
						})
					}
					break;
				// Télécommande ++
				case 'PageDown':
					id = index + 1;
					break;
				// Télécommande --
				case 'PageUp':
					id = index - 1;
					break;
				default:
					break;
			}

			if (id) {
				document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
				switchSlide(id);
			}
		});
	});

	window.addEventListener('message', (e) => {
		if (e.origin === 'https://localhost:8080') {
			document.getElementById(e.data).scrollIntoView({ behavior: 'smooth' });
			switchSlide(e.data.split('-')[1]);
		}
	}, false);
</script>
</body>
</html>
